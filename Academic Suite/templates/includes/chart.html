<script>
   $(document).ready(function() {
      // Area chart
      var options = {
         series: [{{student_count}}, {{staff_count}}, {{subject_count}}, {{course_count}}],
         chart: {
            height: 250,
            width: '100%',
            type: 'pie',
         },
         labels: ['Student', 'Staff', 'Subject', 'Course'],
         responsive: [{
            breakpoint: 480,
            options: {
               chart: {
                  width: 200
               },
               legend: {
                  position: 'bottom'
               }
            }
         }]
      };

      var chart = new ApexCharts(document.querySelector("#All_details"), options);
      chart.render();

      // Bar chart
      if ($('#stud_gender').length > 0) {
         var studentGenderData = {
            'male': {{ student_gender_male }},
            'female': {{ student_gender_female }},
         };

         var optionsBar = {
            chart: {
               type: 'bar',
               height: 250,
               width: '100%',
               stacked: true,
               toolbar: {
                  show: false
               },
            },
            dataLabels: {
               enabled: false
            },
            plotOptions: {
               bar: {
                  columnWidth: '45%',
               }
            },
            series: [{
               name: "Boys",
               color: '#fdbb38',
               data: [studentGenderData.male],
            }, {
               name: "Girls",
               color: '#19affb',
               data: [studentGenderData.female],
            }],
            labels: ['Male', 'Female'],
            xaxis: {
               labels: {
                  show: false
               },
               axisBorder: {
                  show: false
               },
               axisTicks: {
                  show: false
               },
            },
            yaxis: {
               axisBorder: {
                  show: false
               },
               axisTicks: {
                  show: false
               },
               labels: {
                  style: {
                     colors: '#777'
                  }
               }
            },
            title: {
               text: '',
               align: 'left',
               style: {
                  fontSize: '18px'
               }
            }
         };

         var chartBar = new ApexCharts(document.querySelector('#stud_gender'), optionsBar);
         chartBar.render();
      }

      // Student and staff
      var optionsDonut = {
         series: [{{student_count}}, {{staff_count}}],
         chart: {
            type: 'donut',
            height: 250,
            width: '100%',
         },
         labels:['Student','Staff'],
         responsive: [{
            breakpoint: 480,
            options: {
               chart: {
                  height: 350,
                  width: '100%',
               },
               legend: {
                  position: 'bottom'
               }
            }
         }]
      };

      var chartDonut = new ApexCharts(document.querySelector("#stud_staff"), optionsDonut);
      chartDonut.render();

      // Course and subject
      var optionsDonutCourseSubject = {
         series: [{{course_count}}, {{subject_count}}],
         chart: {
            height: 250,
            width: '100%',
            type: 'donut',
         },
         labels:['Course','Subject'],
         plotOptions: {
            pie: {
               startAngle: -90,
               endAngle: 270
            }
         },
         dataLabels: {
            enabled: false
         },
         fill: {
            type: 'gradient',
         },
         legend: {
            formatter: function(val, opts) {
               return val + " - " + opts.w.globals.series[opts.seriesIndex];
            }
         },
         responsive: [{
            breakpoint: 480,
            options: {
               chart: {
                  height: 350,
                  width: '100%',
               },
               legend: {
                  position: 'bottom'
               }
            }
         }]
      };

      var chartCourseSubject = new ApexCharts(document.querySelector("#course_subject"), optionsDonutCourseSubject);
      chartCourseSubject.render();

   });
</script>
